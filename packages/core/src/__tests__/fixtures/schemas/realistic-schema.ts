import { DatabaseSchema } from '../../../../types';

export const realisticSchema: DatabaseSchema = {
  tables: [
    {
      name: 'users',
      columns: [
        {
          name: 'id',
          type: 'serial',
          nullable: false,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: true,
          isUnique: true,
          comment: 'User primary key',
        },
        {
          name: 'username',
          type: 'varchar',
          nullable: false,
          defaultValue: null,
          maxLength: 100,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: true,
          comment: 'Unique username',
        },
        {
          name: 'email',
          type: 'varchar',
          nullable: false,
          defaultValue: null,
          maxLength: 255,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: true,
          comment: 'Contact email',
        },
        {
          name: 'created_at',
          type: 'timestamp',
          nullable: false,
          defaultValue: 'now()',
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Creation timestamp',
        },
      ],
      foreign_keys: [],
      enums: new Map(),
    },
    {
      name: 'profiles',
      columns: [
        {
          name: 'id',
          type: 'serial',
          nullable: false,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: true,
          isUnique: true,
          comment: 'Profile primary key',
        },
        {
          name: 'user_id',
          type: 'integer',
          nullable: false,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: true,
          comment: 'FK to users',
        },
        {
          name: 'bio',
          type: 'text',
          nullable: true,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Profile biography',
        },
        {
          name: 'birthday',
          type: 'date',
          nullable: true,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Date of birth',
        },
      ],
      foreign_keys: [
        {
          columnName: 'user_id',
          foreignTableName: 'users',
          foreignColumnName: 'id',
          onUpdate: 'CASCADE',
          onDelete: 'CASCADE',
        },
      ],
      enums: new Map(),
    },
    {
      name: 'posts',
      columns: [
        {
          name: 'id',
          type: 'serial',
          nullable: false,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: true,
          isUnique: true,
          comment: 'Post primary key',
        },
        {
          name: 'author_id',
          type: 'integer',
          nullable: false,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'FK to users',
        },
        {
          name: 'title',
          type: 'varchar',
          nullable: false,
          defaultValue: null,
          maxLength: 150,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Post title',
        },
        {
          name: 'body',
          type: 'text',
          nullable: true,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Post contents',
        },
        {
          name: 'published_at',
          type: 'timestamp',
          nullable: true,
          defaultValue: null,
          maxLength: null,
          precision: null,
          scale: null,
          isPrimaryKey: false,
          isUnique: false,
          comment: 'Publication timestamp',
        },
      ],
      foreign_keys: [
        {
          columnName: 'author_id',
          foreignTableName: 'users',
          foreignColumnName: 'id',
          onUpdate: 'CASCADE',
          onDelete: 'SET NULL',
        },
      ],
      enums: new Map(),
    },
  ],
};
